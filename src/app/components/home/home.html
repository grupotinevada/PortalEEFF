<app-navbar></app-navbar>

<main class="container-fluid mt-5 pt-4">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-xl-8">
      <div class="text-center mb-5">
        <h1 class="display-5 fw-bold carga mb-3">
          <i class="bi bi-file-earmark-arrow-up me-2"></i>
          Carga de Archivos SAP
        </h1>
        <p class="lead text">
          Sube tus archivos HTM generados por SAP para procesamiento y análisis
        </p>
      </div>

      <!-- Área de carga de archivos: solo si no hay archivo seleccionado -->
      <div *ngIf="!selectedFile" class="card shadow-sm mb-4">
        <div class="card-body p-4">
          <div
            class="border border-3 border-dashed border-success rounded-3 p-5 bg-light bg-opacity-10 text-center position-relative"
            style="cursor: pointer;"
            (drop)="onFileDrop($event)"
            (dragover)="onDragOver($event)"
            (dragleave)="onDragLeave($event)"
            (click)="fileInput.click()"
          >
            <input
              #fileInput
              type="file"
              class="d-none"
              (change)="onFileSelected($event)"
              accept=".htm"
            />

            <div class="p-3">
              <i class="bi bi-cloud-arrow-up fs-1 text-success"></i>
              <h5 class="mt-3 mb-1 fw-bold">
                Arrastra tu archivo aquí o haz clic para seleccionar
              </h5>
              <p class="text-muted mb-0">
                Formatos aceptados: .htm (Archivos SAP)
              </p>
              <small class="text-muted">Tamaño máximo: 10MB</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Mensaje de éxito si se confirmó archivo -->
      <div *ngIf="savedFileName" class="alert alert-success mt-4 d-flex align-items-center">
        <i class="bi bi-check-circle-fill me-2 fs-4"></i>
        <div>
          <strong>Archivo procesado correctamente:</strong> {{ savedFileName }}
        </div>
      </div>
    </div>
  </div>
</main>

<!-- <section class="container-fluid mt-4 mb-5 text-center d-flex justify-content-center gap-3">
      <button class="btn btn-info" (click)="clonar()">Clonar Mapping</button>
    <button class="btn btn-danger" (click)="eliminar()">Eliminar Mapping</button>
</section> -->